<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Zero Module Framework: zmf::discovery::PeerRegistryInternal Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Zero Module Framework
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A framework for running distributed modules using a ZMQ message bus</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classzmf_1_1discovery_1_1_peer_registry_internal.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classzmf_1_1discovery_1_1_peer_registry_internal-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">zmf::discovery::PeerRegistryInternal Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_peer_registry_internal_8hpp_source.html">PeerRegistryInternal.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for zmf::discovery::PeerRegistryInternal:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classzmf_1_1discovery_1_1_peer_registry_internal.png" usemap="#zmf::discovery::PeerRegistryInternal_map" alt=""/>
  <map id="zmf::discovery::PeerRegistryInternal_map" name="zmf::discovery::PeerRegistryInternal_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a67d954583a4a1abbe993c19c22cfe288"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzmf_1_1discovery_1_1_peer_registry_internal.html#a67d954583a4a1abbe993c19c22cfe288">PeerRegistryInternal</a> ()</td></tr>
<tr class="separator:a67d954583a4a1abbe993c19c22cfe288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158f37070086f3adf99028288aace0d0"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzmf_1_1discovery_1_1_peer_registry_internal.html#a158f37070086f3adf99028288aace0d0">~PeerRegistryInternal</a> ()</td></tr>
<tr class="separator:a158f37070086f3adf99028288aace0d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5d6723a7c086a57d1472ae690f6b74b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzmf_1_1discovery_1_1_peer_registry_internal.html#aa5d6723a7c086a57d1472ae690f6b74b">addModule</a> (std::shared_ptr&lt; zmf::data::ModuleHandle &gt; toAdd, zmf::data::ModuleState state, std::vector&lt; uint8_t &gt; additionalState)</td></tr>
<tr class="separator:aa5d6723a7c086a57d1472ae690f6b74b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d6b66d9502e9c71ddb03e7d9a567cdf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzmf_1_1discovery_1_1_peer_registry_internal.html#a9d6b66d9502e9c71ddb03e7d9a567cdf">removeModule</a> (zmf::data::ModuleUniqueId toRemoveId)</td></tr>
<tr class="separator:a9d6b66d9502e9c71ddb03e7d9a567cdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae26dee8c0cf07ac277946c407aa5686b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzmf_1_1discovery_1_1_peer_registry_internal.html#ae26dee8c0cf07ac277946c407aa5686b">clearRegistry</a> ()</td></tr>
<tr class="separator:ae26dee8c0cf07ac277946c407aa5686b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bdd1ccd0f0c8b767fb6c46b7d871cad"><td class="memItemLeft" align="right" valign="top">std::map<br class="typebreak"/>
&lt; zmf::data::ModuleUniqueId, <br class="typebreak"/>
std::shared_ptr<br class="typebreak"/>
&lt; zmf::data::ModuleHandle &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzmf_1_1discovery_1_1_peer_registry_internal.html#a7bdd1ccd0f0c8b767fb6c46b7d871cad">INTERNAL_getAllPeers</a> (bool onlyActivePeers=true)</td></tr>
<tr class="separator:a7bdd1ccd0f0c8b767fb6c46b7d871cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05fd6779ea146b6045b030e7ccc4d799"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint16_t, std::list<br class="typebreak"/>
&lt; std::shared_ptr<br class="typebreak"/>
&lt; zmf::data::ModuleHandle &gt; &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzmf_1_1discovery_1_1_peer_registry_internal.html#a05fd6779ea146b6045b030e7ccc4d799">INTERNAL_getAllPeersByType</a> (bool onlyActivePeers=true)</td></tr>
<tr class="separator:a05fd6779ea146b6045b030e7ccc4d799"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1da89f2aebdca8319d0b924514b85c0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzmf_1_1discovery_1_1_peer_registry_internal.html#a1da89f2aebdca8319d0b924514b85c0f">INTERNAL_updatePeerState</a> (zmf::data::ModuleUniqueId module, zmf::data::ModuleState newState)</td></tr>
<tr class="separator:a1da89f2aebdca8319d0b924514b85c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96e55447db1362dc6494423cc6b4104"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzmf_1_1discovery_1_1_peer_registry_internal.html#ab96e55447db1362dc6494423cc6b4104">INTERNAL_updatePeerAdditionalState</a> (zmf::data::ModuleUniqueId module, std::vector&lt; uint8_t &gt; newAdditionalState)</td></tr>
<tr class="separator:ab96e55447db1362dc6494423cc6b4104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a621e38de08c784ae188780909b12b8b2"><td class="memItemLeft" align="right" valign="top">std::mutex &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzmf_1_1discovery_1_1_peer_registry_internal.html#a621e38de08c784ae188780909b12b8b2">getPeerRegistryLock</a> ()</td></tr>
<tr class="separator:a621e38de08c784ae188780909b12b8b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a600d75c55653ef0b5d6845d73e1fee37"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzmf_1_1discovery_1_1_peer_registry_internal.html#a600d75c55653ef0b5d6845d73e1fee37">printPeerRegistry</a> () override</td></tr>
<tr class="separator:a600d75c55653ef0b5d6845d73e1fee37"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The PeerRegistry keeps track of every module in the network. It tracks their state and is able to provide information about all those modules. Derived class from PeerRegistry which implements the internal functions such as add, remove, clear and update. </p>
<dl class="section author"><dt>Author</dt><dd>Jonas Grunert </dd></dl>
<dl class="section date"><dt>Date</dt><dd>created 8/5/15. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a67d954583a4a1abbe993c19c22cfe288"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">zmf::discovery::PeerRegistryInternal::PeerRegistryInternal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a158f37070086f3adf99028288aace0d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">zmf::discovery::PeerRegistryInternal::~PeerRegistryInternal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa5d6723a7c086a57d1472ae690f6b74b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zmf::discovery::PeerRegistryInternal::addModule </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; zmf::data::ModuleHandle &gt;&#160;</td>
          <td class="paramname"><em>toAdd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">zmf::data::ModuleState&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uint8_t &gt;&#160;</td>
          <td class="paramname"><em>additionalState</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds the given module to the registry </p>

</div>
</div>
<a class="anchor" id="ae26dee8c0cf07ac277946c407aa5686b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zmf::discovery::PeerRegistryInternal::clearRegistry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears the registry </p>

</div>
</div>
<a class="anchor" id="a621e38de08c784ae188780909b12b8b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex&amp; zmf::discovery::PeerRegistryInternal::getPeerRegistryLock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7bdd1ccd0f0c8b767fb6c46b7d871cad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;zmf::data::ModuleUniqueId, std::shared_ptr&lt;zmf::data::ModuleHandle&gt; &gt;&amp; zmf::discovery::PeerRegistryInternal::INTERNAL_getAllPeers </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>onlyActivePeers</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Warning: Returns reference unsynchronized, internal datastructures Returns the internal data structure with all peers, sorted by ID Contract: No guarantee that data structure not changed concurrently. Copy recommended. Performance: Direct return of map, very fast </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">onlyActivePeers</td><td>Returns only all active peers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to map with all peers by Id </dd></dl>

</div>
</div>
<a class="anchor" id="a05fd6779ea146b6045b030e7ccc4d799"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint16_t, std::list&lt;std::shared_ptr&lt;zmf::data::ModuleHandle&gt; &gt; &gt;&amp; zmf::discovery::PeerRegistryInternal::INTERNAL_getAllPeersByType </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>onlyActivePeers</em> = <code>true</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Warning: Returns reference unsynchronized, internal datastructures Returns the internal data structure with all peers, sorted by Type Contract: No guarantee that data structure not changed concurrently. Copy recommended. Performance: Direct return of map, very fast </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">onlyActivePeers</td><td>Returns only all active peers </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Reference to map with all peers by Tape </dd></dl>

</div>
</div>
<a class="anchor" id="ab96e55447db1362dc6494423cc6b4104"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zmf::discovery::PeerRegistryInternal::INTERNAL_updatePeerAdditionalState </td>
          <td>(</td>
          <td class="paramtype">zmf::data::ModuleUniqueId&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uint8_t &gt;&#160;</td>
          <td class="paramname"><em>newAdditionalState</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the additional state of the given module from the registry </p>

</div>
</div>
<a class="anchor" id="a1da89f2aebdca8319d0b924514b85c0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zmf::discovery::PeerRegistryInternal::INTERNAL_updatePeerState </td>
          <td>(</td>
          <td class="paramtype">zmf::data::ModuleUniqueId&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">zmf::data::ModuleState&#160;</td>
          <td class="paramname"><em>newState</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Updates the state of the given module from the registry </p>

</div>
</div>
<a class="anchor" id="a600d75c55653ef0b5d6845d73e1fee37"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void zmf::discovery::PeerRegistryInternal::printPeerRegistry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9d6b66d9502e9c71ddb03e7d9a567cdf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void zmf::discovery::PeerRegistryInternal::removeModule </td>
          <td>(</td>
          <td class="paramtype">zmf::data::ModuleUniqueId&#160;</td>
          <td class="paramname"><em>toRemoveId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes the given module from the registry </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/zsdn/zsdn-git/ZMF/src/discovery/<a class="el" href="_peer_registry_internal_8hpp_source.html">PeerRegistryInternal.hpp</a></li>
<li>/home/zsdn/zsdn-git/ZMF/src/discovery/<a class="el" href="_peer_registry_internal_8cpp.html">PeerRegistryInternal.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacezmf.html">zmf</a></li><li class="navelem"><a class="el" href="namespacezmf_1_1discovery.html">discovery</a></li><li class="navelem"><a class="el" href="classzmf_1_1discovery_1_1_peer_registry_internal.html">PeerRegistryInternal</a></li>
    <li class="footer">Generated on Sat Oct 31 2015 17:13:24 for Zero Module Framework by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
